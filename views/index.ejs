<html>
<!-- header -->
<%- include('layout/header') %>

    <body style="background-color: rgb(255,240,227);">
        <div class="container-fluid">

            <div class="container my-5">

                <h1 class="py-3 text-center"
                    style="color: rgb(0, 0, 0);font-family: 'Raleway', sans-serif; font-weight: bold;font-size: 3.5rem; letter-spacing: .2rem;">
                    <i class="fa-solid fa-square-check fa-lg" style="color: #7980ff;"></i> ToDo
                </h1>
                <!-- input -->
                <div class="mb-5">
                    <form action="/add" method="post">
                        <div class="containeer-fluid input-group py-2 px-5">
                            <!-- input target -->
                            <input type="text"
                                class="form-control w-50 input-default rounded-0 input-border shadow-lg py-2"
                                name="toDo" placeholder="enter your targets" style="border: 0;" required focus>
                            <!-- input targeted date -->
                            <input type="date" class="form-control rounded-0 input-large input-border shadow-lg py-2"
                                name="date" style="border: 0;" required>
                            <div class="pl-2">
                                <!-- submit/add button -->
                                <button class="submit btn btn-dark rounded-0 center shadow-lg py-2" id="add">
                                    <span class="m-3" style=" color: rgb(255, 255, 255);" for="button">
                                        &oplus; Add
                                    </span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="containeer-fluid">
            <div class="container px-5">
                <div class="p-1" style="border-style: dashed;">
                    <!-- todo List -->
                    <table class="table table-striped" style="display: block; height: 400px;overflow-y: scroll;">
                        <!-- todo list head -->
                        <thead style="position: -webkit-sticky; position: sticky; top: 0;">
                            <tr class="table-dark">
                                <th class="text-left align-middle col-sm-1 col-md-1 col-lg-1" scope="col">#</th>
                                <th class="text-center align-middle col-sm-8 col-md-9 col-lg-9" scope="col">Targets</th>
                                <th class="align-middle text-center col-sm-2 col-md-1 col-lg-1" scope="col">Deadline
                                </th>
                                <th class="align-middle text-center col-sm-1 col-md-1 col-lg-1" scope="col"><i
                                        class="fa-sharp fa-solid fa-trash-can" style="color: #ffffff;"></i>
                                </th>
                            </tr>
                        </thead>
                        <!-- todo list body -->
                        <tbody>
                            <% target.forEach(function(data,index){ %>
                                <tr class="border-0">
                                    <th Class="text-left align-middle">
                                        <%= index+1 %>
                                    </th>
                                    <td Class="text-left align-middle">
                                        <%= data.todo%>
                                    </td>
                                    <td Class="align-middle text-center">
                                        <% if (data.date) { %>
                                            <%= data.date.toString().substring(8,10)%>.<%=data.date.toString().substring(4,7)%>.<%=data.date.toString().substring(11,15)%>
                                                        <% } %>
                                    </td>
                                    <td class="text-center"><a href="/delete/<%= data._id %>"
                                            style="text-decoration: none;color: red;">&otimes;</a></td>
                                </tr>
                                <% }); %>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous">

            </script>
    </body>
    
    
    <!-- footer -->
    <%- include('layout/footer') %>

</html>